{"ast":null,"code":"const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';export const API_ENDPOINTS={AUTH:{LOGIN:`${API_BASE_URL}/api/auth/login`,REGISTER:`${API_BASE_URL}/api/auth/register`,CHALLENGE:`${API_BASE_URL}/api/auth/challenge`,PUBLIC_KEY:username=>`${API_BASE_URL}/api/auth/publickey/${username}`,CA_CERT:`${API_BASE_URL}/api/auth/ca-certificate`},FILE:{UPLOAD:`${API_BASE_URL}/api/file/upload`,LIST:`${API_BASE_URL}/api/file/list`,DOWNLOAD:fileId=>`${API_BASE_URL}/api/file/download/${fileId}`,INFO:fileId=>`${API_BASE_URL}/api/file/info/${fileId}`,SHARE:fileId=>`${API_BASE_URL}/api/file/share/${fileId}`,DELETE:fileId=>`${API_BASE_URL}/api/file/${fileId}`},MESSAGE:{SEND:`${API_BASE_URL}/api/message/send`,LIST:`${API_BASE_URL}/api/message/list`,DELETE:messageId=>`${API_BASE_URL}/api/message/${messageId}`}};// Configure axios defaults\nimport axios from'axios';axios.defaults.baseURL=API_BASE_URL;axios.defaults.headers.common['Content-Type']='application/json';// Add auth token to requests\naxios.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=`Bearer ${token}`;}return config;});// Handle auth errors\naxios.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});export default API_BASE_URL;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","API_ENDPOINTS","AUTH","LOGIN","REGISTER","CHALLENGE","PUBLIC_KEY","username","CA_CERT","FILE","UPLOAD","LIST","DOWNLOAD","fileId","INFO","SHARE","DELETE","MESSAGE","SEND","messageId","axios","defaults","baseURL","headers","common","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","error","_error$response","status","removeItem","window","location","href","Promise","reject"],"sources":["/workspace/frontend/src/utils/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nexport const API_ENDPOINTS = {\n  AUTH: {\n    LOGIN: `${API_BASE_URL}/api/auth/login`,\n    REGISTER: `${API_BASE_URL}/api/auth/register`,\n    CHALLENGE: `${API_BASE_URL}/api/auth/challenge`,\n    PUBLIC_KEY: (username) => `${API_BASE_URL}/api/auth/publickey/${username}`,\n    CA_CERT: `${API_BASE_URL}/api/auth/ca-certificate`,\n  },\n  FILE: {\n    UPLOAD: `${API_BASE_URL}/api/file/upload`,\n    LIST: `${API_BASE_URL}/api/file/list`,\n    DOWNLOAD: (fileId) => `${API_BASE_URL}/api/file/download/${fileId}`,\n    INFO: (fileId) => `${API_BASE_URL}/api/file/info/${fileId}`,\n    SHARE: (fileId) => `${API_BASE_URL}/api/file/share/${fileId}`,\n    DELETE: (fileId) => `${API_BASE_URL}/api/file/${fileId}`,\n  },\n  MESSAGE: {\n    SEND: `${API_BASE_URL}/api/message/send`,\n    LIST: `${API_BASE_URL}/api/message/list`,\n    DELETE: (messageId) => `${API_BASE_URL}/api/message/${messageId}`,\n  }\n};\n\n// Configure axios defaults\nimport axios from 'axios';\n\naxios.defaults.baseURL = API_BASE_URL;\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n\n// Add auth token to requests\naxios.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Handle auth errors\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default API_BASE_URL;"],"mappings":"AAAA,KAAM,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAE7E,MAAO,MAAM,CAAAC,aAAa,CAAG,CAC3BC,IAAI,CAAE,CACJC,KAAK,CAAE,GAAGN,YAAY,iBAAiB,CACvCO,QAAQ,CAAE,GAAGP,YAAY,oBAAoB,CAC7CQ,SAAS,CAAE,GAAGR,YAAY,qBAAqB,CAC/CS,UAAU,CAAGC,QAAQ,EAAK,GAAGV,YAAY,uBAAuBU,QAAQ,EAAE,CAC1EC,OAAO,CAAE,GAAGX,YAAY,0BAC1B,CAAC,CACDY,IAAI,CAAE,CACJC,MAAM,CAAE,GAAGb,YAAY,kBAAkB,CACzCc,IAAI,CAAE,GAAGd,YAAY,gBAAgB,CACrCe,QAAQ,CAAGC,MAAM,EAAK,GAAGhB,YAAY,sBAAsBgB,MAAM,EAAE,CACnEC,IAAI,CAAGD,MAAM,EAAK,GAAGhB,YAAY,kBAAkBgB,MAAM,EAAE,CAC3DE,KAAK,CAAGF,MAAM,EAAK,GAAGhB,YAAY,mBAAmBgB,MAAM,EAAE,CAC7DG,MAAM,CAAGH,MAAM,EAAK,GAAGhB,YAAY,aAAagB,MAAM,EACxD,CAAC,CACDI,OAAO,CAAE,CACPC,IAAI,CAAE,GAAGrB,YAAY,mBAAmB,CACxCc,IAAI,CAAE,GAAGd,YAAY,mBAAmB,CACxCmB,MAAM,CAAGG,SAAS,EAAK,GAAGtB,YAAY,gBAAgBsB,SAAS,EACjE,CACF,CAAC,CAED;AACA,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzBA,KAAK,CAACC,QAAQ,CAACC,OAAO,CAAGzB,YAAY,CACrCuB,KAAK,CAACC,QAAQ,CAACE,OAAO,CAACC,MAAM,CAAC,cAAc,CAAC,CAAG,kBAAkB,CAElE;AACAJ,KAAK,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,EAAK,CACzC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTD,MAAM,CAACL,OAAO,CAACS,aAAa,CAAG,UAAUH,KAAK,EAAE,CAClD,CACA,MAAO,CAAAD,MAAM,CACf,CAAC,CAAC,CAEF;AACAR,KAAK,CAACK,YAAY,CAACQ,QAAQ,CAACN,GAAG,CAC5BM,QAAQ,EAAKA,QAAQ,CACrBC,KAAK,EAAK,KAAAC,eAAA,CACT,GAAI,EAAAA,eAAA,CAAAD,KAAK,CAACD,QAAQ,UAAAE,eAAA,iBAAdA,eAAA,CAAgBC,MAAM,IAAK,GAAG,CAAE,CAClCN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACjC,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACR,KAAK,CAAC,CAC9B,CACF,CAAC,CAED,cAAe,CAAArC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}