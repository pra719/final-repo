{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,Link,useLocation,useNavigate}from'react-router-dom';import Login from'./components/Login';import Register from'./components/Register';import FileShare from'./components/FileShare';import Messaging from'./components/Messaging';import'./styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navigation(_ref){let{token,setToken}=_ref;const location=useLocation();const navigate=useNavigate();const handleLogout=()=>{setToken(null);localStorage.removeItem('token');navigate('/login');};if(!token)return null;return/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white/95 backdrop-blur-lg shadow-xl border-b border-white/20 sticky top-0 z-50 animate-fade-in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center mr-3 shadow-lg animate-float\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gradient\",children:\"SecureShare\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:ml-10 md:flex md:space-x-2\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/files\",className:`nav-link ${location.pathname==='/files'?'active':''}`,children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})}),\"Files\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/messages\",className:`nav-link ${location.pathname==='/messages'?'active':''}`,children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})}),\"Messages\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-2 rounded-lg text-sm font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4 mr-2 inline-block\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),\"Logout\"]})})]})})});}function App(){const[token,setToken]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// Check for saved token on app start\nconst savedToken=localStorage.getItem('token');if(savedToken){setToken(savedToken);}setLoading(false);},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center gradient-bg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center animate-bounce-in\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white mb-2\",children:\"Loading SecureShare\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80\",children:\"Preparing your secure environment...\"})]})});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen gradient-bg\",children:[/*#__PURE__*/_jsx(Navigation,{token:token,setToken:setToken}),/*#__PURE__*/_jsx(\"main\",{className:\"animate-fade-in\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!token?/*#__PURE__*/_jsx(Login,{setToken:setToken}):/*#__PURE__*/_jsx(Navigate,{to:\"/files\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!token?/*#__PURE__*/_jsx(Register,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/files\"})}),/*#__PURE__*/_jsx(Route,{path:\"/files\",element:token?/*#__PURE__*/_jsx(FileShare,{token:token}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/messages\",element:token?/*#__PURE__*/_jsx(Messaging,{token:token}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:token?\"/files\":\"/login\"})})]})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Link","useLocation","useNavigate","Login","Register","FileShare","Messaging","jsx","_jsx","jsxs","_jsxs","Navigation","_ref","token","setToken","location","navigate","handleLogout","localStorage","removeItem","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","to","pathname","onClick","App","loading","setLoading","savedToken","getItem","path","element"],"sources":["/workspace/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, Link, useLocation, useNavigate } from 'react-router-dom';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport FileShare from './components/FileShare';\nimport Messaging from './components/Messaging';\nimport './styles.css';\n\nfunction Navigation({ token, setToken }) {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    setToken(null);\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  if (!token) return null;\n\n  return (\n    <nav className=\"bg-white/95 backdrop-blur-lg shadow-xl border-b border-white/20 sticky top-0 z-50 animate-fade-in\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          <div className=\"flex items-center\">\n            <div className=\"flex-shrink-0 flex items-center\">\n              <div className=\"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl flex items-center justify-center mr-3 shadow-lg animate-float\">\n                <svg className=\"h-6 w-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                </svg>\n              </div>\n              <h1 className=\"text-xl font-bold text-gradient\">SecureShare</h1>\n            </div>\n            <div className=\"hidden md:ml-10 md:flex md:space-x-2\">\n              <Link\n                to=\"/files\"\n                className={`nav-link ${\n                  location.pathname === '/files' ? 'active' : ''\n                }`}\n              >\n                <svg className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                </svg>\n                Files\n              </Link>\n              <Link\n                to=\"/messages\"\n                className={`nav-link ${\n                  location.pathname === '/messages' ? 'active' : ''\n                }`}\n              >\n                <svg className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                </svg>\n                Messages\n              </Link>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center\">\n            <button\n              onClick={handleLogout}\n              className=\"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-2 rounded-lg text-sm font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n            >\n              <svg className=\"h-4 w-4 mr-2 inline-block\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n              </svg>\n              Logout\n            </button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nfunction App() {\n  const [token, setToken] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check for saved token on app start\n    const savedToken = localStorage.getItem('token');\n    if (savedToken) {\n      setToken(savedToken);\n    }\n    setLoading(false);\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center gradient-bg\">\n        <div className=\"text-center animate-bounce-in\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <h2 className=\"text-xl font-semibold text-white mb-2\">Loading SecureShare</h2>\n          <p className=\"text-white/80\">Preparing your secure environment...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"min-h-screen gradient-bg\">\n        <Navigation token={token} setToken={setToken} />\n        <main className=\"animate-fade-in\">\n          <Routes>\n            <Route \n              path=\"/login\" \n              element={!token ? <Login setToken={setToken} /> : <Navigate to=\"/files\" />} \n            />\n            <Route \n              path=\"/register\" \n              element={!token ? <Register /> : <Navigate to=\"/files\" />} \n            />\n            <Route \n              path=\"/files\" \n              element={token ? <FileShare token={token} /> : <Navigate to=\"/login\" />} \n            />\n            <Route \n              path=\"/messages\" \n              element={token ? <Messaging token={token} /> : <Navigate to=\"/login\" />} \n            />\n            <Route \n              path=\"/\" \n              element={<Navigate to={token ? \"/files\" : \"/login\"} />} \n            />\n          </Routes>\n        </main>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}