{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{API_ENDPOINTS}from'../utils/api';import ClientCrypto from'../utils/crypto';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function FileShare(_ref){let{token}=_ref;const[files,setFiles]=useState({ownedFiles:[],sharedFiles:[]});const[uploadFile,setUploadFile]=useState(null);const[shareUsername,setShareUsername]=useState('');const[selectedFileId,setSelectedFileId]=useState('');const[loading,setLoading]=useState(false);const[uploading,setUploading]=useState(false);const[downloading,setDownloading]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const privateKey=localStorage.getItem('privateKey');useEffect(()=>{fetchFiles();},[]);const fetchFiles=async()=>{setLoading(true);try{const res=await axios.get(API_ENDPOINTS.FILE.LIST);setFiles(res.data.data);}catch(err){var _err$response,_err$response$data;setError('Failed to fetch files: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message));}finally{setLoading(false);}};const handleFileUpload=async e=>{e.preventDefault();if(!uploadFile||!privateKey){setError('Please select a file and ensure you are logged in');return;}setUploading(true);setError('');setSuccess('');try{const formData=new FormData();formData.append('file',uploadFile);formData.append('privateKey',privateKey);const res=await axios.post(API_ENDPOINTS.FILE.UPLOAD,formData,{headers:{'Content-Type':'multipart/form-data'}});setSuccess(`File \"${res.data.data.filename}\" uploaded successfully!`);setUploadFile(null);document.getElementById('fileInput').value='';fetchFiles();}catch(err){var _err$response2,_err$response2$data;setError('Upload failed: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||err.message));}finally{setUploading(false);}};const handleFileDownload=async(fileId,filename)=>{if(!privateKey){setError('Private key not found. Please log in again.');return;}setDownloading(fileId);setError('');try{const res=await axios.post(API_ENDPOINTS.FILE.DOWNLOAD(fileId),{privateKey},{responseType:'blob',headers:{'Content-Type':'application/json'}});// Create download link\nconst url=window.URL.createObjectURL(new Blob([res.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',filename);document.body.appendChild(link);link.click();link.remove();window.URL.revokeObjectURL(url);setSuccess(`File \"${filename}\" downloaded successfully!`);}catch(err){var _err$response3;if((_err$response3=err.response)!==null&&_err$response3!==void 0&&_err$response3.data){// Handle JSON error response\nconst reader=new FileReader();reader.onload=()=>{try{const errorData=JSON.parse(reader.result);setError('Download failed: '+errorData.error);}catch{setError('Download failed: Unknown error');}};reader.readAsText(err.response.data);}else{var _err$response4,_err$response4$data;setError('Download failed: '+(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||err.message));}}finally{setDownloading('');}};const handleShareFile=async e=>{e.preventDefault();if(!selectedFileId||!shareUsername||!privateKey){setError('Please select a file, enter a username, and ensure you are logged in');return;}setLoading(true);setError('');setSuccess('');try{const res=await axios.post(API_ENDPOINTS.FILE.SHARE(selectedFileId),{usernames:[shareUsername],privateKey});setSuccess(`File shared with ${shareUsername} successfully!`);setShareUsername('');setSelectedFileId('');fetchFiles();}catch(err){var _err$response5,_err$response5$data;setError('Share failed: '+(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.error)||err.message));}finally{setLoading(false);}};const handleDeleteFile=async(fileId,filename)=>{if(!window.confirm(`Are you sure you want to delete \"${filename}\"?`)){return;}setLoading(true);setError('');try{await axios.delete(API_ENDPOINTS.FILE.DELETE(fileId));setSuccess(`File \"${filename}\" deleted successfully!`);fetchFiles();}catch(err){var _err$response6,_err$response6$data;setError('Delete failed: '+(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.error)||err.message));}finally{setLoading(false);}};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8 max-w-6xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-white mb-2 text-shadow\",children:\"Secure File Sharing\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-lg\",children:\"Upload, share, and manage your encrypted files securely\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl animate-slide-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-200\",children:error})]})}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-xl animate-slide-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-green-400 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-200\",children:success})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-blue-400 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white\",children:\"Upload File\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFileUpload,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileInput\",className:\"block text-sm font-medium text-white/90 mb-2\",children:\"Select File\"}),/*#__PURE__*/_jsx(\"input\",{id:\"fileInput\",type:\"file\",onChange:e=>setUploadFile(e.target.files[0]),className:\"input-field focus-ring file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-xs text-white/60\",children:\"Maximum file size: 10MB. File will be encrypted automatically.\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:uploading||!uploadFile,className:\"btn-primary w-full py-3\",children:uploading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Encrypting & Uploading...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2 inline-block\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})}),\"Upload File\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-green-400 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white\",children:\"Share File\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleShareFile,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileSelect\",className:\"block text-sm font-medium text-white/90 mb-2\",children:\"Select File to Share\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"fileSelect\",value:selectedFileId,onChange:e=>setSelectedFileId(e.target.value),className:\"input-field focus-ring\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Choose a file...\"}),files.ownedFiles.map(file=>/*#__PURE__*/_jsxs(\"option\",{value:file.fileId,children:[file.filename,\" (\",formatFileSize(file.size),\")\"]},file.fileId))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shareUsername\",className:\"block text-sm font-medium text-white/90 mb-2\",children:\"Share with Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"shareUsername\",type:\"text\",placeholder:\"Enter username to share with\",value:shareUsername,onChange:e=>setShareUsername(e.target.value),className:\"input-field focus-ring\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!selectedFileId||!shareUsername,className:\"btn-secondary w-full py-3\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Sharing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2 inline-block\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"})}),\"Share File\"]})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-purple-400 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white\",children:\"My Files\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-white/60 bg-white/10 px-3 py-1 rounded-full\",children:[files.ownedFiles.length,\" files\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto\",children:files.ownedFiles.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-12 w-12 text-white/40 mx-auto mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60\",children:\"No files uploaded yet\"})]}):files.ownedFiles.map(file=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-sm border border-white/20 rounded-lg p-4 hover:bg-white/10 transition-all duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-medium truncate\",children:file.filename}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-white/60 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatFileSize(file.size)}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(file.createdAt)}),file.sharedWithCount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-400\",children:[\"Shared with \",file.sharedWithCount,\" user\",file.sharedWithCount!==1?'s':'']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFileDownload(file.fileId,file.filename),disabled:downloading===file.fileId,className:\"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-white/10 transition-colors duration-200\",title:\"Download\",children:downloading===file.fileId?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteFile(file.fileId,file.filename),className:\"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-white/10 transition-colors duration-200\",title:\"Delete\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})]})},file.fileId))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6 text-green-400 mr-3\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-white\",children:\"Shared with Me\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-white/60 bg-white/10 px-3 py-1 rounded-full\",children:[files.sharedFiles.length,\" files\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto\",children:files.sharedFiles.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-12 w-12 text-white/40 mx-auto mb-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60\",children:\"No files shared with you yet\"})]}):files.sharedFiles.map(file=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/5 backdrop-blur-sm border border-white/20 rounded-lg p-4 hover:bg-white/10 transition-all duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-medium truncate\",children:file.filename}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-white/60 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatFileSize(file.size)}),/*#__PURE__*/_jsxs(\"span\",{children:[\"by \",file.owner]}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(file.createdAt)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFileDownload(file.fileId,file.filename),disabled:downloading===file.fileId,className:\"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-white/10 transition-colors duration-200\",title:\"Download\",children:downloading===file.fileId?/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}):/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})})})]})},file.fileId))})]})]})]});}export default FileShare;","map":{"version":3,"names":["React","useState","useEffect","axios","API_ENDPOINTS","ClientCrypto","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FileShare","_ref","token","files","setFiles","ownedFiles","sharedFiles","uploadFile","setUploadFile","shareUsername","setShareUsername","selectedFileId","setSelectedFileId","loading","setLoading","uploading","setUploading","downloading","setDownloading","error","setError","success","setSuccess","privateKey","localStorage","getItem","fetchFiles","res","get","FILE","LIST","data","err","_err$response","_err$response$data","response","message","handleFileUpload","e","preventDefault","formData","FormData","append","post","UPLOAD","headers","filename","document","getElementById","value","_err$response2","_err$response2$data","handleFileDownload","fileId","DOWNLOAD","responseType","url","window","URL","createObjectURL","Blob","link","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","_err$response3","reader","FileReader","onload","errorData","JSON","parse","result","readAsText","_err$response4","_err$response4$data","handleShareFile","SHARE","usernames","_err$response5","_err$response5$data","handleDeleteFile","confirm","delete","DELETE","_err$response6","_err$response6$data","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","className","children","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","htmlFor","id","type","onChange","target","required","disabled","xmlns","cx","cy","r","map","file","size","placeholder","length","createdAt","sharedWithCount","onClick","title","owner"],"sources":["/workspace/frontend/src/components/FileShare.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { API_ENDPOINTS } from '../utils/api';\nimport ClientCrypto from '../utils/crypto';\n\nfunction FileShare({ token }) {\n  const [files, setFiles] = useState({ ownedFiles: [], sharedFiles: [] });\n  const [uploadFile, setUploadFile] = useState(null);\n  const [shareUsername, setShareUsername] = useState('');\n  const [selectedFileId, setSelectedFileId] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [downloading, setDownloading] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const privateKey = localStorage.getItem('privateKey');\n\n  useEffect(() => {\n    fetchFiles();\n  }, []);\n\n  const fetchFiles = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(API_ENDPOINTS.FILE.LIST);\n      setFiles(res.data.data);\n    } catch (err) {\n      setError('Failed to fetch files: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFileUpload = async (e) => {\n    e.preventDefault();\n    if (!uploadFile || !privateKey) {\n      setError('Please select a file and ensure you are logged in');\n      return;\n    }\n\n    setUploading(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      const formData = new FormData();\n      formData.append('file', uploadFile);\n      formData.append('privateKey', privateKey);\n\n      const res = await axios.post(API_ENDPOINTS.FILE.UPLOAD, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      setSuccess(`File \"${res.data.data.filename}\" uploaded successfully!`);\n      setUploadFile(null);\n      document.getElementById('fileInput').value = '';\n      fetchFiles();\n    } catch (err) {\n      setError('Upload failed: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleFileDownload = async (fileId, filename) => {\n    if (!privateKey) {\n      setError('Private key not found. Please log in again.');\n      return;\n    }\n\n    setDownloading(fileId);\n    setError('');\n\n    try {\n      const res = await axios.post(\n        API_ENDPOINTS.FILE.DOWNLOAD(fileId),\n        { privateKey },\n        { \n          responseType: 'blob',\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      );\n\n      // Create download link\n      const url = window.URL.createObjectURL(new Blob([res.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', filename);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n\n      setSuccess(`File \"${filename}\" downloaded successfully!`);\n    } catch (err) {\n      if (err.response?.data) {\n        // Handle JSON error response\n        const reader = new FileReader();\n        reader.onload = () => {\n          try {\n            const errorData = JSON.parse(reader.result);\n            setError('Download failed: ' + errorData.error);\n          } catch {\n            setError('Download failed: Unknown error');\n          }\n        };\n        reader.readAsText(err.response.data);\n      } else {\n        setError('Download failed: ' + (err.response?.data?.error || err.message));\n      }\n    } finally {\n      setDownloading('');\n    }\n  };\n\n  const handleShareFile = async (e) => {\n    e.preventDefault();\n    if (!selectedFileId || !shareUsername || !privateKey) {\n      setError('Please select a file, enter a username, and ensure you are logged in');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      const res = await axios.post(\n        API_ENDPOINTS.FILE.SHARE(selectedFileId),\n        {\n          usernames: [shareUsername],\n          privateKey\n        }\n      );\n\n      setSuccess(`File shared with ${shareUsername} successfully!`);\n      setShareUsername('');\n      setSelectedFileId('');\n      fetchFiles();\n    } catch (err) {\n      setError('Share failed: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteFile = async (fileId, filename) => {\n    if (!window.confirm(`Are you sure you want to delete \"${filename}\"?`)) {\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      await axios.delete(API_ENDPOINTS.FILE.DELETE(fileId));\n      setSuccess(`File \"${filename}\" deleted successfully!`);\n      fetchFiles();\n    } catch (err) {\n      setError('Delete failed: ' + (err.response?.data?.error || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 max-w-6xl\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2 text-shadow\">Secure File Sharing</h1>\n        <p className=\"text-white/80 text-lg\">Upload, share, and manage your encrypted files securely</p>\n      </div>\n\n      {/* Alerts */}\n      {error && (\n        <div className=\"mb-6 p-4 bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl animate-slide-up\">\n          <div className=\"flex items-center\">\n            <svg className=\"h-5 w-5 text-red-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <p className=\"text-sm text-red-200\">{error}</p>\n          </div>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"mb-6 p-4 bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-xl animate-slide-up\">\n          <div className=\"flex items-center\">\n            <svg className=\"h-5 w-5 text-green-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <p className=\"text-sm text-green-200\">{success}</p>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n        {/* File Upload Card */}\n        <div className=\"glass-card\">\n          <div className=\"flex items-center mb-6\">\n            <svg className=\"h-6 w-6 text-blue-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n            </svg>\n            <h2 className=\"text-xl font-semibold text-white\">Upload File</h2>\n          </div>\n\n          <form onSubmit={handleFileUpload} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"fileInput\" className=\"block text-sm font-medium text-white/90 mb-2\">\n                Select File\n              </label>\n              <input\n                id=\"fileInput\"\n                type=\"file\"\n                onChange={(e) => setUploadFile(e.target.files[0])}\n                className=\"input-field focus-ring file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                required\n              />\n              <p className=\"mt-2 text-xs text-white/60\">\n                Maximum file size: 10MB. File will be encrypted automatically.\n              </p>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={uploading || !uploadFile}\n              className=\"btn-primary w-full py-3\"\n            >\n              {uploading ? (\n                <div className=\"flex items-center justify-center\">\n                  <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Encrypting & Uploading...\n                </div>\n              ) : (\n                <>\n                  <svg className=\"h-5 w-5 mr-2 inline-block\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                  </svg>\n                  Upload File\n                </>\n              )}\n            </button>\n          </form>\n        </div>\n\n        {/* Share File Card */}\n        <div className=\"glass-card\">\n          <div className=\"flex items-center mb-6\">\n            <svg className=\"h-6 w-6 text-green-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\n            </svg>\n            <h2 className=\"text-xl font-semibold text-white\">Share File</h2>\n          </div>\n\n          <form onSubmit={handleShareFile} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"fileSelect\" className=\"block text-sm font-medium text-white/90 mb-2\">\n                Select File to Share\n              </label>\n              <select\n                id=\"fileSelect\"\n                value={selectedFileId}\n                onChange={(e) => setSelectedFileId(e.target.value)}\n                className=\"input-field focus-ring\"\n                required\n              >\n                <option value=\"\">Choose a file...</option>\n                {files.ownedFiles.map((file) => (\n                  <option key={file.fileId} value={file.fileId}>\n                    {file.filename} ({formatFileSize(file.size)})\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label htmlFor=\"shareUsername\" className=\"block text-sm font-medium text-white/90 mb-2\">\n                Share with Username\n              </label>\n              <input\n                id=\"shareUsername\"\n                type=\"text\"\n                placeholder=\"Enter username to share with\"\n                value={shareUsername}\n                onChange={(e) => setShareUsername(e.target.value)}\n                className=\"input-field focus-ring\"\n                required\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading || !selectedFileId || !shareUsername}\n              className=\"btn-secondary w-full py-3\"\n            >\n              {loading ? (\n                <div className=\"flex items-center justify-center\">\n                  <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Sharing...\n                </div>\n              ) : (\n                <>\n                  <svg className=\"h-5 w-5 mr-2 inline-block\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\n                  </svg>\n                  Share File\n                </>\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n\n      {/* Files Lists */}\n      <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\n        {/* Owned Files */}\n        <div className=\"glass-card\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center\">\n              <svg className=\"h-6 w-6 text-purple-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n              <h2 className=\"text-xl font-semibold text-white\">My Files</h2>\n            </div>\n            <span className=\"text-sm text-white/60 bg-white/10 px-3 py-1 rounded-full\">\n              {files.ownedFiles.length} files\n            </span>\n          </div>\n\n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n            {files.ownedFiles.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <svg className=\"h-12 w-12 text-white/40 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\" />\n                </svg>\n                <p className=\"text-white/60\">No files uploaded yet</p>\n              </div>\n            ) : (\n              files.ownedFiles.map((file) => (\n                <div key={file.fileId} className=\"bg-white/5 backdrop-blur-sm border border-white/20 rounded-lg p-4 hover:bg-white/10 transition-all duration-200\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"text-white font-medium truncate\">{file.filename}</h3>\n                      <div className=\"flex items-center space-x-4 text-sm text-white/60 mt-1\">\n                        <span>{formatFileSize(file.size)}</span>\n                        <span>{formatDate(file.createdAt)}</span>\n                        {file.sharedWithCount > 0 && (\n                          <span className=\"text-green-400\">\n                            Shared with {file.sharedWithCount} user{file.sharedWithCount !== 1 ? 's' : ''}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        onClick={() => handleFileDownload(file.fileId, file.filename)}\n                        disabled={downloading === file.fileId}\n                        className=\"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-white/10 transition-colors duration-200\"\n                        title=\"Download\"\n                      >\n                        {downloading === file.fileId ? (\n                          <svg className=\"animate-spin h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                          </svg>\n                        ) : (\n                          <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                          </svg>\n                        )}\n                      </button>\n                      <button\n                        onClick={() => handleDeleteFile(file.fileId, file.filename)}\n                        className=\"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-white/10 transition-colors duration-200\"\n                        title=\"Delete\"\n                      >\n                        <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {/* Shared Files */}\n        <div className=\"glass-card\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center\">\n              <svg className=\"h-6 w-6 text-green-400 mr-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\n              </svg>\n              <h2 className=\"text-xl font-semibold text-white\">Shared with Me</h2>\n            </div>\n            <span className=\"text-sm text-white/60 bg-white/10 px-3 py-1 rounded-full\">\n              {files.sharedFiles.length} files\n            </span>\n          </div>\n\n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n            {files.sharedFiles.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <svg className=\"h-12 w-12 text-white/40 mx-auto mb-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\" />\n                </svg>\n                <p className=\"text-white/60\">No files shared with you yet</p>\n              </div>\n            ) : (\n              files.sharedFiles.map((file) => (\n                <div key={file.fileId} className=\"bg-white/5 backdrop-blur-sm border border-white/20 rounded-lg p-4 hover:bg-white/10 transition-all duration-200\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"text-white font-medium truncate\">{file.filename}</h3>\n                      <div className=\"flex items-center space-x-4 text-sm text-white/60 mt-1\">\n                        <span>{formatFileSize(file.size)}</span>\n                        <span>by {file.owner}</span>\n                        <span>{formatDate(file.createdAt)}</span>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                      <button\n                        onClick={() => handleFileDownload(file.fileId, file.filename)}\n                        disabled={downloading === file.fileId}\n                        className=\"text-blue-400 hover:text-blue-300 p-2 rounded-lg hover:bg-white/10 transition-colors duration-200\"\n                        title=\"Download\"\n                      >\n                        {downloading === file.fileId ? (\n                          <svg className=\"animate-spin h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                          </svg>\n                        ) : (\n                          <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                          </svg>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default FileShare;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}