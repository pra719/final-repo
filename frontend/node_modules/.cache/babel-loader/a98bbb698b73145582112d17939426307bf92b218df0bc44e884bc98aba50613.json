{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nexport const API_ENDPOINTS = {\n  AUTH: {\n    LOGIN: `${API_BASE_URL}/api/auth/login`,\n    REGISTER: `${API_BASE_URL}/api/auth/register`,\n    CHALLENGE: `${API_BASE_URL}/api/auth/challenge`,\n    PUBLIC_KEY: username => `${API_BASE_URL}/api/auth/publickey/${username}`,\n    CA_CERT: `${API_BASE_URL}/api/auth/ca-certificate`\n  },\n  FILE: {\n    UPLOAD: `${API_BASE_URL}/api/file/upload`,\n    LIST: `${API_BASE_URL}/api/file/list`,\n    DOWNLOAD: fileId => `${API_BASE_URL}/api/file/download/${fileId}`,\n    INFO: fileId => `${API_BASE_URL}/api/file/info/${fileId}`,\n    SHARE: fileId => `${API_BASE_URL}/api/file/share/${fileId}`,\n    DELETE: fileId => `${API_BASE_URL}/api/file/${fileId}`\n  },\n  MESSAGE: {\n    SEND: `${API_BASE_URL}/api/message/send`,\n    LIST: `${API_BASE_URL}/api/message/list`,\n    DELETE: messageId => `${API_BASE_URL}/api/message/${messageId}`\n  }\n};\n\n// Configure axios defaults\nimport axios from 'axios';\naxios.defaults.baseURL = API_BASE_URL;\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n\n// Add auth token to requests\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Handle auth errors\naxios.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('token');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport default API_BASE_URL;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","API_ENDPOINTS","AUTH","LOGIN","REGISTER","CHALLENGE","PUBLIC_KEY","username","CA_CERT","FILE","UPLOAD","LIST","DOWNLOAD","fileId","INFO","SHARE","DELETE","MESSAGE","SEND","messageId","axios","defaults","baseURL","headers","common","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","error","_error$response","status","removeItem","window","location","href","Promise","reject"],"sources":["/workspace/frontend/src/utils/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nexport const API_ENDPOINTS = {\n  AUTH: {\n    LOGIN: `${API_BASE_URL}/api/auth/login`,\n    REGISTER: `${API_BASE_URL}/api/auth/register`,\n    CHALLENGE: `${API_BASE_URL}/api/auth/challenge`,\n    PUBLIC_KEY: (username) => `${API_BASE_URL}/api/auth/publickey/${username}`,\n    CA_CERT: `${API_BASE_URL}/api/auth/ca-certificate`,\n  },\n  FILE: {\n    UPLOAD: `${API_BASE_URL}/api/file/upload`,\n    LIST: `${API_BASE_URL}/api/file/list`,\n    DOWNLOAD: (fileId) => `${API_BASE_URL}/api/file/download/${fileId}`,\n    INFO: (fileId) => `${API_BASE_URL}/api/file/info/${fileId}`,\n    SHARE: (fileId) => `${API_BASE_URL}/api/file/share/${fileId}`,\n    DELETE: (fileId) => `${API_BASE_URL}/api/file/${fileId}`,\n  },\n  MESSAGE: {\n    SEND: `${API_BASE_URL}/api/message/send`,\n    LIST: `${API_BASE_URL}/api/message/list`,\n    DELETE: (messageId) => `${API_BASE_URL}/api/message/${messageId}`,\n  }\n};\n\n// Configure axios defaults\nimport axios from 'axios';\n\naxios.defaults.baseURL = API_BASE_URL;\naxios.defaults.headers.common['Content-Type'] = 'application/json';\n\n// Add auth token to requests\naxios.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Handle auth errors\naxios.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default API_BASE_URL;"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE7E,OAAO,MAAMC,aAAa,GAAG;EAC3BC,IAAI,EAAE;IACJC,KAAK,EAAE,GAAGN,YAAY,iBAAiB;IACvCO,QAAQ,EAAE,GAAGP,YAAY,oBAAoB;IAC7CQ,SAAS,EAAE,GAAGR,YAAY,qBAAqB;IAC/CS,UAAU,EAAGC,QAAQ,IAAK,GAAGV,YAAY,uBAAuBU,QAAQ,EAAE;IAC1EC,OAAO,EAAE,GAAGX,YAAY;EAC1B,CAAC;EACDY,IAAI,EAAE;IACJC,MAAM,EAAE,GAAGb,YAAY,kBAAkB;IACzCc,IAAI,EAAE,GAAGd,YAAY,gBAAgB;IACrCe,QAAQ,EAAGC,MAAM,IAAK,GAAGhB,YAAY,sBAAsBgB,MAAM,EAAE;IACnEC,IAAI,EAAGD,MAAM,IAAK,GAAGhB,YAAY,kBAAkBgB,MAAM,EAAE;IAC3DE,KAAK,EAAGF,MAAM,IAAK,GAAGhB,YAAY,mBAAmBgB,MAAM,EAAE;IAC7DG,MAAM,EAAGH,MAAM,IAAK,GAAGhB,YAAY,aAAagB,MAAM;EACxD,CAAC;EACDI,OAAO,EAAE;IACPC,IAAI,EAAE,GAAGrB,YAAY,mBAAmB;IACxCc,IAAI,EAAE,GAAGd,YAAY,mBAAmB;IACxCmB,MAAM,EAAGG,SAAS,IAAK,GAAGtB,YAAY,gBAAgBsB,SAAS;EACjE;AACF,CAAC;;AAED;AACA,OAAOC,KAAK,MAAM,OAAO;AAEzBA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAGzB,YAAY;AACrCuB,KAAK,CAACC,QAAQ,CAACE,OAAO,CAACC,MAAM,CAAC,cAAc,CAAC,GAAG,kBAAkB;;AAElE;AACAJ,KAAK,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACzC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACL,OAAO,CAACS,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;;AAEF;AACAR,KAAK,CAACK,YAAY,CAACQ,QAAQ,CAACN,GAAG,CAC5BM,QAAQ,IAAKA,QAAQ,EACrBC,KAAK,IAAK;EAAA,IAAAC,eAAA;EACT,IAAI,EAAAA,eAAA,GAAAD,KAAK,CAACD,QAAQ,cAAAE,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IAClCN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;IAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACjC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACR,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAerC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}