{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import{API_ENDPOINTS}from'../utils/api';import ClientCrypto from'../utils/crypto';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(_ref){let{setToken}=_ref;const[username,setUsername]=useState('');const[privateKeyFile,setPrivateKeyFile]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{if(!username.trim()){setError('Please enter your username');setLoading(false);return;}if(!privateKeyFile){setError('Please select a private key file');setLoading(false);return;}const reader=new FileReader();reader.onload=async()=>{try{const privateKey=reader.result;// Validate private key format\nif(!ClientCrypto.isValidPEM(privateKey,'PRIVATE KEY')){setError('Invalid private key format. Please ensure you selected the correct .pem file.');setLoading(false);return;}// Step 1: Get challenge from server\nconst challengeRes=await axios.post(API_ENDPOINTS.AUTH.CHALLENGE);if(!challengeRes.data.success||!challengeRes.data.challenge){setError('Failed to get authentication challenge from server');setLoading(false);return;}const challenge=challengeRes.data.challenge;// Step 2: Sign challenge with private key\nlet signature;try{signature=ClientCrypto.signChallenge(challenge,privateKey);}catch(signError){setError('Failed to sign challenge. Please check your private key file.');setLoading(false);return;}// Step 3: Send login request with username, challenge, and signature\nconst loginRes=await axios.post(API_ENDPOINTS.AUTH.LOGIN,{username:username.trim(),challenge,signature});if(!loginRes.data.success){setError(loginRes.data.error||'Login failed');setLoading(false);return;}// Store token and user data\nconst token=loginRes.data.data.token;const userData=loginRes.data.data.user;localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(userData));localStorage.setItem('privateKey',privateKey);// Store for file operations\nsetToken(token);navigate('/files');}catch(err){console.error('Login error:',err);if(err.response){var _err$response$data;// Server responded with error\nconst status=err.response.status;const errorMessage=((_err$response$data=err.response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Login failed';if(status===401){setError('Authentication failed. Please check your username and private key.');}else if(status===429){setError('Too many login attempts. Please try again later.');}else{setError(errorMessage);}}else if(err.request){// Network error\nsetError('Network error. Please check your connection and try again.');}else{// Other error\nsetError('An unexpected error occurred. Please try again.');}}finally{setLoading(false);}};reader.onerror=()=>{setError('Error reading private key file. Please try selecting the file again.');setLoading(false);};reader.readAsText(privateKeyFile);}catch(err){setError('Error processing login request');setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex items-center justify-center gradient-bg py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"absolute -inset-10 opacity-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/4 left-1/4 w-72 h-72 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl animate-float\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/3 right-1/4 w-72 h-72 bg-purple-400 rounded-full mix-blend-multiply filter blur-xl animate-float\",style:{animationDelay:'2s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-1/4 left-1/3 w-72 h-72 bg-pink-400 rounded-full mix-blend-multiply filter blur-xl animate-float\",style:{animationDelay:'4s'}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8 relative z-10 animate-slide-up\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-16 w-16 flex items-center justify-center rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-2xl animate-bounce-in\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-8 w-8 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-4xl font-extrabold text-white text-shadow\",children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-lg text-white/80\",children:\"Sign in to your secure file sharing account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-card\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl animate-slide-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400 mr-3 flex-shrink-0\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-200\",children:error})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm font-medium text-white/90 mb-2\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",type:\"text\",placeholder:\"Enter your username\",value:username,onChange:e=>setUsername(e.target.value),className:\"input-field focus-ring\",disabled:loading,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"privateKey\",className:\"block text-sm font-medium text-white/90 mb-2\",children:\"Private Key File\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"input\",{id:\"privateKey\",type:\"file\",onChange:e=>setPrivateKeyFile(e.target.files[0]),className:\"input-field focus-ring file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\",accept:\".pem,.key,.txt\",disabled:loading,required:true})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-xs text-white/60\",children:\"Upload the private key file (.pem) downloaded during registration\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500/10 backdrop-blur-sm border border-yellow-400/30 rounded-xl p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-yellow-400 mr-3 mt-0.5 flex-shrink-0\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-yellow-200 mb-1\",children:\"Security Notice\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-300/80\",children:\"Your private key is processed locally and used for cryptographic authentication. It never leaves your device in plain text.\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:`btn-primary w-full py-4 text-lg font-semibold transition-all duration-300 ${loading?'opacity-50 cursor-not-allowed':'hover:scale-105'}`,children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin -ml-1 mr-3 h-6 w-6 text-white\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),\"Authenticating...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 mr-2 inline-block\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"})}),\"Sign In\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-white/70\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"font-medium text-white hover:text-blue-200 transition duration-200 underline decoration-2 underline-offset-4\",children:\"Sign up here\"})]})})]})]})]});}export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Link","API_ENDPOINTS","ClientCrypto","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","setToken","username","setUsername","privateKeyFile","setPrivateKeyFile","loading","setLoading","error","setError","navigate","handleSubmit","e","preventDefault","trim","reader","FileReader","onload","privateKey","result","isValidPEM","challengeRes","post","AUTH","CHALLENGE","data","success","challenge","signature","signChallenge","signError","loginRes","LOGIN","token","userData","user","localStorage","setItem","JSON","stringify","err","console","response","_err$response$data","status","errorMessage","request","onerror","readAsText","className","children","style","animationDelay","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","htmlFor","id","type","placeholder","value","onChange","target","disabled","required","files","accept","xmlns","cx","cy","r","to"],"sources":["/workspace/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { API_ENDPOINTS } from '../utils/api';\nimport ClientCrypto from '../utils/crypto';\n\nfunction Login({ setToken }) {\n  const [username, setUsername] = useState('');\n  const [privateKeyFile, setPrivateKeyFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    \n    try {\n      if (!username.trim()) {\n        setError('Please enter your username');\n        setLoading(false);\n        return;\n      }\n\n      if (!privateKeyFile) {\n        setError('Please select a private key file');\n        setLoading(false);\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.onload = async () => {\n        try {\n          const privateKey = reader.result;\n          \n          // Validate private key format\n          if (!ClientCrypto.isValidPEM(privateKey, 'PRIVATE KEY')) {\n            setError('Invalid private key format. Please ensure you selected the correct .pem file.');\n            setLoading(false);\n            return;\n          }\n\n          // Step 1: Get challenge from server\n          const challengeRes = await axios.post(API_ENDPOINTS.AUTH.CHALLENGE);\n          \n          if (!challengeRes.data.success || !challengeRes.data.challenge) {\n            setError('Failed to get authentication challenge from server');\n            setLoading(false);\n            return;\n          }\n\n          const challenge = challengeRes.data.challenge;\n\n          // Step 2: Sign challenge with private key\n          let signature;\n          try {\n            signature = ClientCrypto.signChallenge(challenge, privateKey);\n          } catch (signError) {\n            setError('Failed to sign challenge. Please check your private key file.');\n            setLoading(false);\n            return;\n          }\n\n          // Step 3: Send login request with username, challenge, and signature\n          const loginRes = await axios.post(API_ENDPOINTS.AUTH.LOGIN, {\n            username: username.trim(),\n            challenge,\n            signature\n          });\n\n          if (!loginRes.data.success) {\n            setError(loginRes.data.error || 'Login failed');\n            setLoading(false);\n            return;\n          }\n\n          // Store token and user data\n          const token = loginRes.data.data.token;\n          const userData = loginRes.data.data.user;\n          \n          localStorage.setItem('token', token);\n          localStorage.setItem('user', JSON.stringify(userData));\n          localStorage.setItem('privateKey', privateKey); // Store for file operations\n          \n          setToken(token);\n          navigate('/files');\n          \n        } catch (err) {\n          console.error('Login error:', err);\n          \n          if (err.response) {\n            // Server responded with error\n            const status = err.response.status;\n            const errorMessage = err.response.data?.error || 'Login failed';\n            \n            if (status === 401) {\n              setError('Authentication failed. Please check your username and private key.');\n            } else if (status === 429) {\n              setError('Too many login attempts. Please try again later.');\n            } else {\n              setError(errorMessage);\n            }\n          } else if (err.request) {\n            // Network error\n            setError('Network error. Please check your connection and try again.');\n          } else {\n            // Other error\n            setError('An unexpected error occurred. Please try again.');\n          }\n        } finally {\n          setLoading(false);\n        }\n      };\n      \n      reader.onerror = () => {\n        setError('Error reading private key file. Please try selecting the file again.');\n        setLoading(false);\n      };\n      \n      reader.readAsText(privateKeyFile);\n    } catch (err) {\n      setError('Error processing login request');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center gradient-bg py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden\">\n      {/* Background decoration */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <div className=\"absolute -inset-10 opacity-20\">\n          <div className=\"absolute top-1/4 left-1/4 w-72 h-72 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl animate-float\"></div>\n          <div className=\"absolute top-1/3 right-1/4 w-72 h-72 bg-purple-400 rounded-full mix-blend-multiply filter blur-xl animate-float\" style={{animationDelay: '2s'}}></div>\n          <div className=\"absolute bottom-1/4 left-1/3 w-72 h-72 bg-pink-400 rounded-full mix-blend-multiply filter blur-xl animate-float\" style={{animationDelay: '4s'}}></div>\n        </div>\n      </div>\n\n      <div className=\"max-w-md w-full space-y-8 relative z-10 animate-slide-up\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto h-16 w-16 flex items-center justify-center rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-2xl animate-bounce-in\">\n            <svg className=\"h-8 w-8 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n            </svg>\n          </div>\n          <h2 className=\"mt-6 text-4xl font-extrabold text-white text-shadow\">\n            Welcome Back\n          </h2>\n          <p className=\"mt-2 text-lg text-white/80\">\n            Sign in to your secure file sharing account\n          </p>\n        </div>\n        \n        <div className=\"glass-card\">\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl animate-slide-up\">\n              <div className=\"flex items-center\">\n                <svg className=\"h-5 w-5 text-red-400 mr-3 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <p className=\"text-sm text-red-200\">{error}</p>\n              </div>\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"username\" className=\"block text-sm font-medium text-white/90 mb-2\">\n                Username\n              </label>\n              <input\n                id=\"username\"\n                type=\"text\"\n                placeholder=\"Enter your username\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"input-field focus-ring\"\n                disabled={loading}\n                required\n              />\n            </div>\n            \n            <div>\n              <label htmlFor=\"privateKey\" className=\"block text-sm font-medium text-white/90 mb-2\">\n                Private Key File\n              </label>\n              <div className=\"relative\">\n                <input\n                  id=\"privateKey\"\n                  type=\"file\"\n                  onChange={(e) => setPrivateKeyFile(e.target.files[0])}\n                  className=\"input-field focus-ring file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n                  accept=\".pem,.key,.txt\"\n                  disabled={loading}\n                  required\n                />\n              </div>\n              <p className=\"mt-2 text-xs text-white/60\">\n                Upload the private key file (.pem) downloaded during registration\n              </p>\n            </div>\n            \n            <div className=\"bg-yellow-500/10 backdrop-blur-sm border border-yellow-400/30 rounded-xl p-4\">\n              <div className=\"flex items-start\">\n                <svg className=\"h-5 w-5 text-yellow-400 mr-3 mt-0.5 flex-shrink-0\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                </svg>\n                <div>\n                  <h4 className=\"text-sm font-medium text-yellow-200 mb-1\">Security Notice</h4>\n                  <p className=\"text-xs text-yellow-300/80\">\n                    Your private key is processed locally and used for cryptographic authentication. \n                    It never leaves your device in plain text.\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            <button\n              type=\"submit\"\n              disabled={loading}\n              className={`btn-primary w-full py-4 text-lg font-semibold transition-all duration-300 ${\n                loading ? 'opacity-50 cursor-not-allowed' : 'hover:scale-105'\n              }`}\n            >\n              {loading ? (\n                <div className=\"flex items-center justify-center\">\n                  <svg className=\"animate-spin -ml-1 mr-3 h-6 w-6 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Authenticating...\n                </div>\n              ) : (\n                <>\n                  <svg className=\"h-5 w-5 mr-2 inline-block\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" />\n                  </svg>\n                  Sign In\n                </>\n              )}\n            </button>\n          </form>\n          \n          <div className=\"mt-8 text-center\">\n            <p className=\"text-sm text-white/70\">\n              Don't have an account?{' '}\n              <Link to=\"/register\" className=\"font-medium text-white hover:text-blue-200 transition duration-200 underline decoration-2 underline-offset-4\">\n                Sign up here\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}